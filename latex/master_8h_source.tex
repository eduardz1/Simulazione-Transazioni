\hypertarget{master_8h_source}{}\doxysection{master.\+h}
\label{master_8h_source}\index{src/include/master.h@{src/include/master.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#ifndef SIMULAZIONE\_TRANSAZIONI\_MASTER\_H}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#define SIMULAZIONE\_TRANSAZIONI\_MASTER\_H}}
\DoxyCodeLine{3 }
\DoxyCodeLine{4 \textcolor{comment}{/*}}
\DoxyCodeLine{5 \textcolor{comment}{ * probabilmente tutte set macro non ci servono perche' ha piÃ¹ senso passare i}}
\DoxyCodeLine{6 \textcolor{comment}{ * valori come parametri in compilazione}}
\DoxyCodeLine{7 \textcolor{comment}{ */}}
\DoxyCodeLine{8 }
\DoxyCodeLine{9 \textcolor{comment}{/* libro mastro -\/-\/-\/-\/> linked list */}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{comment}{/*}}
\DoxyCodeLine{12 \textcolor{comment}{ * execve(const char *user, char *const argv[], char *const envp[])}}
\DoxyCodeLine{13 \textcolor{comment}{ * in user\_fork to link "{}user"{} executable to the forked process, same thing for nodes}}
\DoxyCodeLine{14 \textcolor{comment}{ * check lesson on pipes by prof. bini, the second hour}}
\DoxyCodeLine{15 \textcolor{comment}{ */}}
\DoxyCodeLine{16 }
\DoxyCodeLine{17 \textcolor{comment}{/*}}
\DoxyCodeLine{18 \textcolor{comment}{ * every transaction should be noted and we need to manage inconsistency with}}
\DoxyCodeLine{19 \textcolor{comment}{ * semaphores maybe}}
\DoxyCodeLine{20 \textcolor{comment}{ */}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22 \textcolor{comment}{/*}}
\DoxyCodeLine{23 \textcolor{comment}{ * get every user\_pid, ask to libro\_mastro}}
\DoxyCodeLine{24 \textcolor{comment}{ * to return it's current\_budget and print}}
\DoxyCodeLine{25 \textcolor{comment}{ * repeat every second until simulation persists}}
\DoxyCodeLine{26 \textcolor{comment}{ * remember that CTRL-\/C should kill the simulation}}
\DoxyCodeLine{27 \textcolor{comment}{ */}}
\DoxyCodeLine{28 }
\DoxyCodeLine{29 \textcolor{comment}{/*}}
\DoxyCodeLine{30 \textcolor{comment}{ * need to define a kill signal for the simulation, either:}}
\DoxyCodeLine{31 \textcolor{comment}{ * -\/ SO\_SIM\_SEC seconds have passed}}
\DoxyCodeLine{32 \textcolor{comment}{ * -\/ libro\_mastro is full}}
\DoxyCodeLine{33 \textcolor{comment}{ * -\/ CTRL-\/C from stdin}}
\DoxyCodeLine{34 \textcolor{comment}{ */}}
\DoxyCodeLine{35 }
\DoxyCodeLine{36 \textcolor{comment}{/*}}
\DoxyCodeLine{37 \textcolor{comment}{ * end of simulation should print:}}
\DoxyCodeLine{38 \textcolor{comment}{ * -\/ kill signal}}
\DoxyCodeLine{39 \textcolor{comment}{ * -\/ balance of every user, as before, may need to write a funciton for that}}
\DoxyCodeLine{40 \textcolor{comment}{ * -\/ balance of every node (function as before but with different parameter)}}
\DoxyCodeLine{41 \textcolor{comment}{ * -\/ number of user processes aborted}}
\DoxyCodeLine{42 \textcolor{comment}{ * -\/ number of blocks in the libro\_mastro}}
\DoxyCodeLine{43 \textcolor{comment}{ * -\/ number of transaction still in the pool, for each node}}
\DoxyCodeLine{44 \textcolor{comment}{ */}}
\DoxyCodeLine{45 }
\DoxyCodeLine{46 \textcolor{preprocessor}{\#include <string.h>}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#include <signal.h>}}
\DoxyCodeLine{48 }
\DoxyCodeLine{49 \textcolor{keywordtype}{void} make\_arguments(\textcolor{keywordtype}{int} *IPCarray, \textcolor{keywordtype}{char} *argv[]);}
\DoxyCodeLine{50 }
\DoxyCodeLine{51 pid\_t spawn\_user(\textcolor{keywordtype}{char} *argv[]);}
\DoxyCodeLine{52 pid\_t spawn\_node(\textcolor{keywordtype}{char} *argv[]);}
\DoxyCodeLine{53 }
\DoxyCodeLine{54 \textcolor{keywordtype}{void} shared\_memory\_objects\_init(\textcolor{keywordtype}{int} *shared\_memory\_objects\_IDs);}
\DoxyCodeLine{55 \textcolor{keywordtype}{void} semaphores\_init();}
\DoxyCodeLine{56 \textcolor{keywordtype}{void} make\_ipc\_array(\textcolor{keywordtype}{int} *IPC\_objects\_IDs);}
\DoxyCodeLine{57 }
\DoxyCodeLine{58 \textcolor{keywordtype}{void} master\_interrupt\_handle(\textcolor{keywordtype}{int} signum);}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{preprocessor}{\#endif }\textcolor{comment}{/* SIMULAZIONE\_TRANSAZIONI\_MASTER\_H */}\textcolor{preprocessor}{}}

\end{DoxyCode}
